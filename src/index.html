<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Final Project</title>
    <link href="style.css" rel="stylesheet">
    <link href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" >
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  </head>
  <body>
    <div class="sidenav" id="sidenav">
      <h1>Where My Country Gone?</h1><br>
        <button class="accordion">How to use</button>
        <div class="panel">
            <ol>
                <li>Select politicians to focus on.</li>
                <li>Select the sentiments that you prefer to include.</li>
                <li>Select an election period and a range of dates.</li>
                <li>Press submit and you will see a green text block verifying your filters</li>
                <li>Then you can play around with the word network, the twitter scatterplot and the summary statistics</li>
            </ol>
        </div>
      <form id="main-form">
          <h3>&nbsp;&nbsp;Tweet Filtering </h3>
          <div id="tweetfilteringinfo" style="display: inline;">
              <span id='tooltipClick'
                    title='The tweet filtering allows filtering of tweets to get specific subset of data of interest.'>
                  <i class="fa fa-info-circle" aria-hidden="true" style="font-size:18px"></i>
              </span>
          </div>
          <!-- Democrat/Republican selection -->
        <button title='Here you can select a set of people from both political parties to analyze their tweets.'
                type="button" class="dropdown-btn"><i class="arrow-right"></i>&nbsp;&nbsp;People</button>
        <div class="dropdown-container" id="dropdown-container-1">
          <script>
            // Selects all when the user clicks 'Select All'
            function toggle(source, className) {
              let checkboxes = document.getElementsByClassName(className);
              for (let i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = source.checked;
              }
            }

            // Updates checked state of 'Select All' given state of other checkboxes
            function checkSelectAll(source, className, selectAllName) {
                let selectAll = document.getElementById(selectAllName);
                if (!source.checked) {
                    selectAll.checked = false;
                } else {
                    let checkboxes = document.getElementsByClassName(className);
                    selectAll.checked = true;
                    for (let i = 0; i < checkboxes.length; i++) {
                        if (!checkboxes[i].checked) {
                            selectAll.checked = false;
                            break;
                        }
                    }
                }
            }
          </script>

          <b>Democrats</b><br>
          <input type="checkbox" id="dem-all" onClick="toggle(this, 'dem')">
          <label for="dem-all">Select All</label><br>
          <input type="checkbox" class="dem" id="dem1" name="dem1" value="AOC" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem1">Alexandria Ocasio-Cortez</label><br>
          <input type="checkbox" class="dem" id="dem2" name="dem2" value="BarackObama" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem2">Barack Obama</label><br>
          <input type="checkbox" class="dem" id="dem3" name="dem3" value="BernieSanders" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem3">Bernie Sanders</label><br>
          <input type="checkbox" class="dem" id="dem4" name="dem4" value="BetoORourke" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem4">Beto O'Rourke</label><br>
          <input type="checkbox" class="dem" id="dem5" name="dem5" value="SenSchumer" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem5">Chuck Schumer</label><br>
          <input type="checkbox" class="dem" id="dem6" name="dem6" value="ewarren" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem6">Elizabeth Warren</label><br>
          <input type="checkbox" class="dem" id="dem7" name="dem7" value="HillaryClinton" onClick="checkSelectAll(this, 'dem', 'dem-all')" checked>
          <label for="dem7">Hillary Clinton</label><br>
          <input type="checkbox" class="dem" id="dem8" name="dem8" value="JoeBiden" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem8">Joe Biden</label><br>
          <input type="checkbox" class="dem" id="dem9" name="dem9" value="KamalaHarris" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem9">Kamala Harris</label><br>
          <input type="checkbox" class="dem" id="dem10" name="dem10" value="RepMaxineWaters" onClick="checkSelectAll(this, 'dem', 'dem-all')">
          <label for="dem10">Maxine Waters</label><br><br>

          <b>Republicans</b><br>
          <input type="checkbox" id="rep-all" onClick="toggle(this, 'rep')">
          <label for="rep-all">Select All</label><br>
          <input type="checkbox" class="rep" id="rep1" name="rep1" value="realDonaldTrump" onClick="checkSelectAll(this, 'rep', 'rep-all')" checked>
          <label for="rep1">Donald Trump</label><br>
          <input type="checkbox" class="rep" id="rep2" name="rep2" value="Jim_Jordan" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep2">Jim Jordan</label><br>
          <input type="checkbox" class="rep" id="rep3" name="rep3" value="LindseyGrahamSC" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep3">Lindsey Graham</label><br>
          <input type="checkbox" class="rep" id="rep4" name="rep4" value="lisamurkowski" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep4">Lisa Murkowski</label><br>
          <input type="checkbox" class="rep" id="rep5" name="rep5" value="marcorubio" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep5">Marco Rubio</label><br>
          <input type="checkbox" class="rep" id="rep6" name="rep6" value="SpeakerRyan" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep6">Paul Ryan</label><br>
          <input type="checkbox" class="rep" id="rep7" name="rep7" value="RandPaul" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep7">Rand Paul</label><br>
          <input type="checkbox" class="rep" id="rep8" name="rep8" value="SteveScalise" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep8">Steve Scalise</label><br>
          <input type="checkbox" class="rep" id="rep9" name="rep9" value="tedcruz" onClick="checkSelectAll(this, 'rep', 'rep-all')">
          <label for="rep9">Ted Cruz</label><br>
        </div>

        <!-- Sentiment selection -->
        <button title="Here you can select the sentiment levels that you would like to focus on. Each tweet has been categorized to 5 sentiment levels ranging from very negative to very positive based on Microsoft's NLTK package."
                type="button" class="dropdown-btn"><i class="arrow-right"></i>&nbsp;&nbsp;Sentiment</button>
        <div class="dropdown-container" id="dropdown-container-2">
          <input type="checkbox" id="sentiment-all" onClick="toggle(this, 'sentiment')" checked>
          <label for="sentiment-all">Select All</label><br>
          <input type="checkbox" class="sentiment" id="strongpos" name="strongpos" value="very pos" onClick="checkSelectAll(this, 'sentiment', 'sentiment-all')" checked>
          <label for="strongpos">Strongly Positive</label><br>
          <input type="checkbox" class="sentiment" id="slightpos" name="slightpos" value="slight pos" onClick="checkSelectAll(this, 'sentiment', 'sentiment-all')" checked>
          <label for="slightpos">Slightly Positive</label><br>
          <input type="checkbox" class="sentiment" id="neu" name="neu" value="neu" onClick="checkSelectAll(this, 'sentiment', 'sentiment-all')" checked>
          <label for="neu">Neutral</label><br>
          <input type="checkbox" class="sentiment" id="slightneg" name="slightneg" value="slight neg" onClick="checkSelectAll(this, 'sentiment', 'sentiment-all')" checked>
          <label for="slightneg">Slightly Negative</label><br>
          <input type="checkbox" class="sentiment" id="strongneg" name="strongneg" value="very neg" onClick="checkSelectAll(this, 'sentiment', 'sentiment-all')" checked>
          <label for="strongneg">Strongly Negative</label><br>
        </div>

        <!-- Election period selection -->
        <button title="Here you can select two signifcant events: the 2016 and 2020 selections. After you select the election periodthat you want analyze, you can select a date range from those periods."
                type="button" class="dropdown-btn"><i class="arrow-right"></i>&nbsp;&nbsp;Election Period</button>
        <div class="dropdown-container" id="dropdown-container-3">
          <div id="election-radios">
              <input type="radio" class="election-period" id="2016" name="election-period" value="2016" checked>
              <label for="2016">2016 Election</label><br>
              <input type="radio" class="election-period" id="2020" name="election-period" value="2020">
              <label for="2020">2020 Election</label><br>
          </div>

          <!-- Date slider -->
          <p>
            Please select an election period before using the Date slider.<br><br>
            <label>Date Range:</label><br>
            <input type="text" class="slider-amount2" id="date-amount-start" readonly>
            to
            <input type="text" class="slider-amount2" id="date-amount-end" readonly>
          </p>
          &nbsp;&nbsp;<div id="slider-range2"></div>
        </div>
        <br><br>

        &nbsp;&nbsp;
        <input type="submit" id="submit" value="Submit"><br><br>
      </form><br>
      <span id="result"></span><br><br><br>
    </div>

    <div class = "main">
        <div id="container">
            <ul role="tablist">
                <li><a role="tab" href="#page1" aria-selected="true">Word Network</a></li>
                <li><a role="tab" href="#page2">Twitter Scatter</a></li>
                <li><a role="tab" href="#page3">How to use (Instructions)</a></li>
            </ul>
            <section role="tabpanel" id="page1">
                <!-- Network search -->
                <form id="network-form">
                    <input type="text" id="network-input" placeholder="Enter a keyword...">
                    <input type="submit" id="network-submit" value="Search" >
                    <span id='tooltipClick2'
                          title='The word network requires a word to be searched. With Network graph you can visualize most common words that are concurrently used with word of choice. It can be intereacted with via drag. The size of the nodes is proportional to the number of tweets that word and the word you searched for have in common.'>
                  <i class="fa fa-info-circle" aria-hidden="true" style="font-size:18px"></i>
                    &nbsp;<span id="no-result-network"></span>
              </span>
                </form>
                <script src="sliders.js"></script>
                <canvas width="900" height="600"></canvas>
                <div id="legend" style="display: inline-block"></div>
                <script src="Network.js"></script>
            </section>
            <section role="tabpanel" id="page2">
                <!-- Scatterplot search -->
                <form id="scatter-form">
                  &nbsp;&nbsp;Please select a Y-dimension:
                  <input type="radio" class="y-axis" id="fav" name="y-axis" value="favorites" required checked>
                  <label for="fav"># of Favorites</label>
                  <input type="radio" class="y-axis" id="rt" name="y-axis" value="retweets">
                  <label for="2020"># of Retweets</label>
                  <input type="radio" class="y-axis" id="replies" name="y-axis" value="replies">
                  <label for="2020"># of Replies</label><br>
                  <input type="text" id="scatter-input" placeholder="Enter a keyword...">
                  <input type="submit" id="scatter-submit" value="Search" >
                    <span id='tooltipClick3'
                          title='The Twitter Scatter plots scatter of each tweet in filtered data as a node (axis of choice used). It also provides tooltips that allow you to highlight specific tweets from the plot. Additionally, you can use the search box to search for one or more words in the dataset.'>
                  <i class="fa fa-info-circle" aria-hidden="true" style="font-size:18px"></i>
                  &nbsp;<span id="no-result-scatter"></span>
              </span>
                </form>
                <div id="scatter-container"></div>
                <div id='tooltip'></div>
                <script src="TwitterScatter.js"></script>
            </section>
            <section role="tabpanel" id="page3">
                <p>*Where My Country Gone?* is an interactive dashboard intended to help any user
                    learn more about the role of twietter in the American politcs scene with data visualization.
                </p>
                <h4>With Network graph you can visualize most common words that are concurrently used with word of choice.
                    It can be intereacted with via drag.
                </h4>
                <h4>The Twitter Scatter plots scatter of each tweet in filtered data as a node (axis of choice used)</h4>
                <h4>The Tweet Filtering allows filtering of tweets to get specific subset of data of interest.</h4>
                
                <h2>How to use the dashboard:</h2>
                <ol>
                    <li>Select set of political individuals to analyze their tweets</li>
                    <li>Specify tweets of sentiment level that you wish to analyze. 
                      Each tweet has been categorized to 5 sentiment levels ranging from negative to
                      positive based on Microsoft's NLTK package. 
                    </li>
                    <li>Select Date. Since the dashboard handles twitter data of
                      American polticians, it handles two significant evenets: 2016 and
                      2020 elections. The user can select an election period and further Specify
                      the date.
                    </li>
                    <li>Once the filters are set, press submit! A green text block below will
                      verify that a search was successful.
                    </li>
                    <li>
                      The word network requires a word to be searched
                    </li>
                    <li>
                      Select the "Twitter Scatter" tab to visualize tweets as a scatterplot,
                      its tooltip allows you to highlight specific tweets from the plot.
                    </li>
                    <li>
                      The summary stats provide more information about the data that has been
                      filtered. 
                    </li>
                </ol>
                <p>Thank you for using Where My Country Gone?, and have fun!</p>
            </section>
        </div>
    </div>
    <div id="summarycontainer">
        <div id="twittercontainerouter">
            <h3>Top 10 Tweets from the filtered dataset</h3>
            <div id="twittercontainer">
            </div>
        </div>
      <div id="pieChart"></div>
      <div id="option">
        <input type="button" id="clear" value="Overall"/>
          <span id='tooltipClick4'
                title='The following visualizations give additional views to the dataset. It shows you a donut chart to see how much the politicians you selected tweet compared to others. It also shows the overall sentiment and interaction distribution. You can also drill down on a certain politician and you can see their respective distributions. Additionally, we show you the top 10 tweets from the filtered dataset, in which you can actively interact with.'>
                  <i class="fa fa-info-circle" aria-hidden="true" style="font-size:18px"></i>
              </span>
      </div>
      <div id="sentimentChart"></div>
      <div id="interactionChart"></div>
    </div>

    <script src="./index.js"></script>
    <script src="aria-tabs.js"></script>
  </body>
</html>